<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>zhhx</title>
	<style type="text/css">
		* {
			margin: 0;
			padding: 0;
			list-style: none;
		}

		#box {
			width: 800px;
			border: 1px solid #ccc;
			margin: 100px auto;
			padding: 20px;
		}

		#my_textarea {
			width: 80%;
			height: 120px;

		}
		.box-top {
			margin-bottom: 20px;
		}

		#ul {
			margin:  0 80px;
		}
		#ul li {
			border-bottom: 1px dashed #ccc;
			color: red;
			line-height: 44px;
		}

		#ul li a {
			float: right;
		}

	</style>
</head>
<body>
	<div id="box">
		<div class="box-top">
			<label>发表评论：</label>
			<textarea id="my_textarea" cols="60" rows="10"></textarea>
			<button id="btn">发表</button>
		</div>
		<ul id="ul"></ul>
	</div>
	<script type="text/javascript">
		window.onload = function () {
			$('btn').onclick = function () {
				var content = $('my_textarea').value;

				if(content.length === 0) {
					alert("请输入评论的内容");
					return;
				}

				var li = document.createElement('li');
				li.innerHTML = content + '<a href="javascript:;">删除</a>';
				$('ul').insertBefore(li, $('ul').children[0]);

				$('my_textarea').value = '';

				var as =  $('ul').getElementsByTagName('a');
				for (var i = 0; i < as.length; i++) {
					var a = as[i];
					a.onclick = function () {
						this.parentNode.remove();
					}
				}
			}
		};
		function $(id) {
			return typeof id === 'string' ? document.getElementById(id) : null;

		}
	</script>
</body>
</html>